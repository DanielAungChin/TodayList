<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToDayList</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
   <style>
    
    body{
    background-image: url("BGImage.jpeg");
    
     }

    *{
        font-family: 'Oxygen', sans-serif;
        box-sizing: border-box;
        cursor: pointer;
        user-select: none;
    }

    .upform{
        width: 250px;
        height: 400px;
        margin: 200px auto;
        border: 1px solid #cccccccc;
        border-radius: 10px;
        background-color: #cccccc88;
    }
   
    h4{
        display: inline;
    }

     img.ic{
        width: 44px;
        height: 44px;
        margin: 5px 10px -6px 85px;
        background-color: #cccccc88;
        border-radius: 90px;
     }

     img.ic:active{
        background-color: #ffffffaa;
     }

     input{
         width: 150px;
         height: 31px;
         border-left: 5px solid black;   
     }

     .downform{
        border: 2px solid white;
        width: 252px;
        height: 302px;
        border-radius: 10px;
        background-color: #ffffffaa;
        margin: 0px -14px 0px -14px;
        overflow-y: scroll; /* Show vertical scrollbar */
     }
     ul{
         list-style-type: none;
         margin: 0 0 0 -69px;
         
     }
     li{
        margin: 11px 21px 0px 30px;
        height: 40px;
     }
     p{
         display: inline;
     }
     .list-item:hover{
        font-weight: bolder;
        background-color: #9ee3f97a;
        border-radius: 10px; 
       
     }
     .list::-webkit-scrollbar {
    width: 10px;
    }
     p{
        font-size: 12px;
     }

    </style>
</head>
<body>
    
   <fieldset class="upform">
    <div class="UpCase">
        
        <h4>To Do List</h4>
       
        <img class="ic" id="addbtn" onclick="addList()" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGQ9Ik0yNTYsMEMxMTQuODMzLDAsMCwxMTQuODMzLDAsMjU2czExNC44MzMsMjU2LDI1NiwyNTZzMjU2LTExNC44NTMsMjU2LTI1NlMzOTcuMTY3LDAsMjU2LDB6IE0yNTYsNDcyLjM0MQ0KCQkJYy0xMTkuMjc1LDAtMjE2LjM0MS05Ny4wNDYtMjE2LjM0MS0yMTYuMzQxUzEzNi43MjUsMzkuNjU5LDI1NiwzOS42NTlTNDcyLjM0MSwxMzYuNzA1LDQ3Mi4zNDEsMjU2UzM3NS4yOTUsNDcyLjM0MSwyNTYsNDcyLjM0MXoNCgkJCSIvPg0KCTwvZz4NCjwvZz4NCjxnPg0KCTxnPg0KCQk8cGF0aCBkPSJNMzU1LjE0OCwyMzQuMzg2SDI3NS44M3YtNzkuMzE4YzAtMTAuOTQ2LTguODY0LTE5LjgzLTE5LjgzLTE5Ljgzcy0xOS44Myw4Ljg4NC0xOS44MywxOS44M3Y3OS4zMThoLTc5LjMxOA0KCQkJYy0xMC45NjYsMC0xOS44Myw4Ljg4NC0xOS44MywxOS44M3M4Ljg2NCwxOS44MywxOS44MywxOS44M2g3OS4zMTh2NzkuMzE4YzAsMTAuOTQ2LDguODY0LDE5LjgzLDE5LjgzLDE5LjgzDQoJCQlzMTkuODMtOC44ODQsMTkuODMtMTkuODN2LTc5LjMxOGg3OS4zMThjMTAuOTY2LDAsMTkuODMtOC44ODQsMTkuODMtMTkuODNTMzY2LjExNCwyMzQuMzg2LDM1NS4xNDgsMjM0LjM4NnoiLz4NCgk8L2c+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg==" />
      
       <input type="text"  id="input" placeholder="Say Something..." autofocus="">
    
    </div>
    <br>
   <fieldset class="downform">
    <div class="downCase">
        
        <ul class="list" id="list">

        </ul>
        </div>
   </fieldset>
    
   <script>

        let list=document.getElementById("list")
        let input=document.getElementById("input")
        let i=1;
        let minTextLength=3;
        let dateObj = new Date();
        let month = ('0' + (dateObj.getMonth() + 1)).slice(-2);
        let date = ('0' + dateObj.getDate()).slice(-2);
        let year = dateObj.getFullYear();
        let shortDate = year + '/' + month + '/' + date;

        function textFilter(x){
            if(x){

                if(x.length >= minTextLength){

                    return x;
                }else{
                    alert("MIN text length is 3.");
                    return false;
                }
            }else{
                alert("Input text empty.")
                return false;
                }
            }
        function addList(){
            //get
            let inputText = textFilter(input.value);
            
            //set
            if(inputText){
            showList(inputText);
            input.value = "";
           }
        }
        function showList(text){
        list.innerHTML += `
          <li class="list-item" id="list${i}">
            <span id="listText${i}">${text}</span><br>
            <p class="date" id="date${i}"><small>${shortDate}</small></p>
            <button class="btn del-btn" onclick='delList(${i})' ><i class="far fa-trash-alt"></i></button>
            <button class="btn edit-btn" onclick='editList(${i})'><i class="fas fa-edit"></i></button>           
            </li>
          `;
          i++;
      }

      function delList(listId){
          let current=document.getElementById(`list${listId}`);
          let curText=document.getElementById(`listText${listId}`).innerHTML;
          let delConfirm=confirm(`Are you sure to delete list "${curText}".`);
          
          if(delConfirm){
            list.removeChild(current);
          }else{
              console.log(`delete cancel.`);
          }
      }

      function editList(listId){
        let current = document.getElementById(`listText${listId}`);
        let newText = prompt("Say Something",current.innerHTML);

        if(textFilter(newText)){
            current.innerHTML = newText;
        }
    
    } 
        
   </script>
</body>
</html>